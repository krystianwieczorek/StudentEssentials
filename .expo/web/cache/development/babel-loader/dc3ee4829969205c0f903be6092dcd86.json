{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\StudentEssentials\\\\app\\\\views\\\\EditSubject.js\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { TextInput, Button, Provider, Portal, Modal, Snackbar, ActivityIndicator } from \"react-native-paper\";\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\nimport { Entypo } from \"@expo/vector-icons\";\nimport { editSubject } from \"../api/editSubject\";\nexport default function EditSubject(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var item = route.params.item;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visibleSnack = _useState2[0],\n      setVisibleSnack = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      visibleModal = _useState4[0],\n      setVisibleModal = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      visibleModal2 = _useState6[0],\n      setVisibleModal2 = _useState6[1];\n\n  var _useState7 = useState(new Date()),\n      _useState8 = _slicedToArray(_useState7, 2),\n      startTime = _useState8[0],\n      setChosenStartTime = _useState8[1];\n\n  var _useState9 = useState(item.startTime),\n      _useState10 = _slicedToArray(_useState9, 2),\n      startTimeInput = _useState10[0],\n      setStartTimeInput = _useState10[1];\n\n  var _useState11 = useState(new Date()),\n      _useState12 = _slicedToArray(_useState11, 2),\n      endTime = _useState12[0],\n      setChosenEndTime = _useState12[1];\n\n  var _useState13 = useState(item.endTime),\n      _useState14 = _slicedToArray(_useState13, 2),\n      endTimeInput = _useState14[0],\n      setEndTimeInput = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      isLoading = _useState16[0],\n      setIsLoading = _useState16[1];\n\n  var _useForm = useForm(),\n      control = _useForm.control,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var showModal = function showModal() {\n    return setVisibleModal(true);\n  };\n\n  var hideModal = function hideModal() {\n    return setVisibleModal(false);\n  };\n\n  var showModal2 = function showModal2() {\n    return setVisibleModal2(true);\n  };\n\n  var hideModal2 = function hideModal2() {\n    return setVisibleModal2(false);\n  };\n\n  var onDismissSnackBar = function onDismissSnackBar() {\n    return setVisibleSnack(false);\n  };\n\n  var onSubmit = function onSubmit(data) {\n    setIsLoading(true);\n    data.startTime = startTime.toLocaleTimeString();\n    data.endTime = endTime.toLocaleTimeString();\n    data.subjectToSheduleId = item.subjectToSheduleId;\n    editSubject(data).then(function (response) {\n      response.status == \"200\" && setVisibleSnack(true);\n      setTimeout(function () {\n        navigation.navigate(\"Schedule\", {\n          route: route\n        });\n        clearTimeout();\n      }, 2000);\n    });\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, isLoading ? React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, React.createElement(ActivityIndicator, {\n    style: styles.activityIndicator,\n    size: 50,\n    animating: isLoading,\n    color: \"#006494\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }), React.createElement(Snackbar, {\n    visible: visibleSnack,\n    duration: 3000,\n    onDismiss: onDismissSnackBar,\n    style: styles.snackbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.snackbarText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Subject edited correctly!\"))) : React.createElement(React.Fragment, null, React.createElement(Entypo, {\n    style: styles.icon,\n    name: \"pencil\",\n    size: 50,\n    color: \"#006494\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    style: styles.text,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Edit \", item.subject), React.createElement(Controller, {\n    control: control,\n    render: function render(_ref2) {\n      var onChange = _ref2.onChange,\n          onBlur = _ref2.onBlur,\n          value = _ref2.value;\n      return React.createElement(TextInput, {\n        style: styles.input,\n        label: \"Profesor Name\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: function onChangeText(value) {\n          return onChange(value);\n        },\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }\n      });\n    },\n    name: \"profesor\",\n    defaultValue: item == null ? void 0 : item.profesor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }), errors.profesor && React.createElement(Text, {\n    style: styles.errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, \"Profesor is required.\"), React.createElement(Controller, {\n    control: control,\n    render: function render(_ref3) {\n      var onChange = _ref3.onChange,\n          onBlur = _ref3.onBlur,\n          value = _ref3.value;\n      return React.createElement(TextInput, {\n        style: styles.input,\n        label: \"Subject\",\n        mode: \"outlined\",\n        onBlur: onBlur,\n        onChangeText: function onChangeText(value) {\n          return onChange(value);\n        },\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      });\n    },\n    name: \"subject\",\n    defaultValue: item == null ? void 0 : item.subject,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }), errors.subject && React.createElement(Text, {\n    style: styles.errorMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Subject is required.\"), React.createElement(TextInput, {\n    style: styles.input,\n    label: \"Start Time\",\n    mode: \"outlined\",\n    disabled: true,\n    onTouchStart: function onTouchStart() {\n      return setVisibleModal(true);\n    },\n    onChangeText: function onChangeText(value) {\n      return onChange(value);\n    },\n    value: startTimeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    label: \"End Time\",\n    mode: \"outlined\",\n    disabled: true,\n    onChangeText: function onChangeText(value) {\n      return onChange(value);\n    },\n    value: endTimeInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), React.createElement(Button, {\n    mode: \"contained\",\n    style: styles.button,\n    title: \"Submit\",\n    onPress: showModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#006494\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Set Start Time\")), React.createElement(Button, {\n    mode: \"contained\",\n    style: styles.button,\n    title: \"Submit\",\n    onPress: showModal2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: \"#006494\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"Set End Time\")), React.createElement(Button, {\n    mode: \"contained\",\n    style: styles.buttonEdit,\n    title: \"Submit\",\n    onPress: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 11\n    }\n  }, \"Edit\"), React.createElement(Provider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, React.createElement(Portal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, React.createElement(Modal, {\n    visible: visibleModal,\n    onDismiss: hideModal,\n    contentContainerStyle: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.textModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, \"Start Time\"), React.createElement(DateTimePicker, {\n    mode: \"time\",\n    display: \"default\",\n    value: startTime,\n    onChange: function onChange(event, selectedDate) {\n      setChosenStartTime(selectedDate);\n      setStartTimeInput(selectedDate.toLocaleTimeString());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  })), React.createElement(Modal, {\n    visible: visibleModal2,\n    onDismiss: hideModal2,\n    contentContainerStyle: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: styles.textModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, \"End Time\"), React.createElement(DateTimePicker, {\n    mode: \"time\",\n    display: \"default\",\n    value: endTime,\n    onChange: function onChange(event, selectedDate) {\n      setChosenEndTime(selectedDate);\n      setEndTimeInput(selectedDate.toLocaleTimeString());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }))))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    justifyContent: \"center\",\n    backgroundColor: \"#e3e3e3\"\n  },\n  textModal: {\n    textAlign: \"center\",\n    fontSize: 30\n  },\n  button: {\n    marginTop: 15,\n    backgroundColor: \"white\",\n    alignContent: \"center\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    width: \"95%\"\n  },\n  text: {\n    textAlign: \"center\",\n    fontSize: 30,\n    marginBottom: 25\n  },\n  icon: {\n    textAlign: \"center\"\n  },\n  errorMessage: {\n    marginLeft: 12,\n    color: \"red\"\n  },\n  buttonEdit: {\n    marginTop: 10,\n    backgroundColor: \"#006494\",\n    alignContent: \"center\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n    width: \"95%\"\n  },\n  modal: {\n    backgroundColor: \"white\",\n    padding: 10,\n    height: \"60%\"\n  },\n  signUp: {\n    marginTop: 15,\n    marginLeft: \"auto\",\n    marginRight: \"auto\"\n  },\n  input: {\n    height: 40,\n    padding: 10,\n    borderRadius: 4\n  },\n  snackbar: {\n    backgroundColor: \"#7d0633\"\n  },\n  snackbarText: {\n    textAlign: \"center\"\n  }\n});","map":{"version":3,"sources":["D:/Projects/StudentEssentials/app/views/EditSubject.js"],"names":["React","useState","useForm","Controller","TextInput","Button","Provider","Portal","Modal","Snackbar","ActivityIndicator","DateTimePicker","Entypo","editSubject","EditSubject","navigation","route","item","params","visibleSnack","setVisibleSnack","visibleModal","setVisibleModal","visibleModal2","setVisibleModal2","Date","startTime","setChosenStartTime","startTimeInput","setStartTimeInput","endTime","setChosenEndTime","endTimeInput","setEndTimeInput","isLoading","setIsLoading","control","handleSubmit","errors","showModal","hideModal","showModal2","hideModal2","onDismissSnackBar","onSubmit","data","toLocaleTimeString","subjectToSheduleId","then","response","status","setTimeout","navigate","clearTimeout","styles","container","activityIndicator","snackbar","snackbarText","icon","text","subject","onChange","onBlur","value","input","profesor","errorMessage","button","color","buttonEdit","modal","textModal","event","selectedDate","StyleSheet","create","width","height","justifyContent","backgroundColor","textAlign","fontSize","marginTop","alignContent","marginLeft","marginRight","marginBottom","padding","signUp","borderRadius"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { View, Text, StyleSheet } from \"react-native\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport {\r\n  TextInput,\r\n  Button,\r\n  Provider,\r\n  Portal,\r\n  Modal,\r\n  Snackbar,\r\n  ActivityIndicator,\r\n} from \"react-native-paper\";\r\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\r\nimport { Entypo } from \"@expo/vector-icons\";\r\nimport { editSubject } from \"../api/editSubject\";\r\n\r\nexport default function EditSubject({ navigation, route }) {\r\n  const { item } = route.params;\r\n  const [visibleSnack, setVisibleSnack] = useState(false);\r\n  const [visibleModal, setVisibleModal] = useState(false);\r\n  const [visibleModal2, setVisibleModal2] = useState(false);\r\n  const [startTime, setChosenStartTime] = useState(new Date());\r\n  const [startTimeInput, setStartTimeInput] = useState(item.startTime);\r\n  const [endTime, setChosenEndTime] = useState(new Date());\r\n  const [endTimeInput, setEndTimeInput] = useState(item.endTime);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { control, handleSubmit, errors } = useForm();\r\n\r\n  const showModal = () => setVisibleModal(true);\r\n  const hideModal = () => setVisibleModal(false);\r\n  const showModal2 = () => setVisibleModal2(true);\r\n  const hideModal2 = () => setVisibleModal2(false);\r\n  const onDismissSnackBar = () => setVisibleSnack(false);\r\n\r\n  const onSubmit = (data) => {\r\n    setIsLoading(true);\r\n    data.startTime = startTime.toLocaleTimeString();\r\n    data.endTime = endTime.toLocaleTimeString();\r\n    data.subjectToSheduleId = item.subjectToSheduleId;\r\n    editSubject(data).then((response) => {\r\n      response.status == \"200\" && setVisibleSnack(true);\r\n      setTimeout(() => {\r\n        navigation.navigate(\"Schedule\", { route });\r\n        clearTimeout();\r\n      }, 2000);\r\n    });\r\n  };\r\n  return (\r\n    <View style={styles.container}>\r\n      {isLoading ? (\r\n        <View style={styles.container}>\r\n          <ActivityIndicator\r\n            style={styles.activityIndicator}\r\n            size={50}\r\n            animating={isLoading}\r\n            color=\"#006494\"\r\n          />\r\n          <Snackbar\r\n            visible={visibleSnack}\r\n            duration={3000}\r\n            onDismiss={onDismissSnackBar}\r\n            style={styles.snackbar}\r\n          >\r\n            <Text style={styles.snackbarText}>Subject edited correctly!</Text>\r\n          </Snackbar>\r\n        </View>\r\n      ) : (\r\n        <>\r\n          <Entypo style={styles.icon} name=\"pencil\" size={50} color=\"#006494\" />\r\n          <Text style={styles.text}>Edit {item.subject}</Text>\r\n          <Controller\r\n            control={control}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <TextInput\r\n                style={styles.input}\r\n                label=\"Profesor Name\"\r\n                mode=\"outlined\"\r\n                onBlur={onBlur}\r\n                onChangeText={(value) => onChange(value)}\r\n                value={value}\r\n              />\r\n            )}\r\n            name=\"profesor\"\r\n            // rules={{ required: true }}\r\n            defaultValue={item?.profesor}\r\n          />\r\n          {errors.profesor && (\r\n            <Text style={styles.errorMessage}>Profesor is required.</Text>\r\n          )}\r\n          <Controller\r\n            control={control}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <TextInput\r\n                style={styles.input}\r\n                label=\"Subject\"\r\n                mode=\"outlined\"\r\n                onBlur={onBlur}\r\n                onChangeText={(value) => onChange(value)}\r\n                value={value}\r\n              />\r\n            )}\r\n            name=\"subject\"\r\n            // rules={{ required: true }}\r\n            defaultValue={item?.subject}\r\n          />\r\n          {errors.subject && (\r\n            <Text style={styles.errorMessage}>Subject is required.</Text>\r\n          )}\r\n          <TextInput\r\n            style={styles.input}\r\n            label=\"Start Time\"\r\n            mode=\"outlined\"\r\n            disabled\r\n            onTouchStart={() => setVisibleModal(true)}\r\n            onChangeText={(value) => onChange(value)}\r\n            value={startTimeInput}\r\n          />\r\n          <TextInput\r\n            style={styles.input}\r\n            label=\"End Time\"\r\n            mode=\"outlined\"\r\n            disabled\r\n            onChangeText={(value) => onChange(value)}\r\n            value={endTimeInput}\r\n          />\r\n          <Button\r\n            mode=\"contained\"\r\n            style={styles.button}\r\n            title=\"Submit\"\r\n            onPress={showModal}\r\n          >\r\n            <Text style={{ color: \"#006494\" }}>Set Start Time</Text>\r\n          </Button>\r\n          <Button\r\n            mode=\"contained\"\r\n            style={styles.button}\r\n            title=\"Submit\"\r\n            onPress={showModal2}\r\n          >\r\n            <Text style={{ color: \"#006494\" }}>Set End Time</Text>\r\n          </Button>\r\n          <Button\r\n            mode=\"contained\"\r\n            style={styles.buttonEdit}\r\n            title=\"Submit\"\r\n            onPress={handleSubmit(onSubmit)}\r\n          >\r\n            Edit\r\n          </Button>\r\n          <Provider>\r\n            <Portal>\r\n              <Modal\r\n                visible={visibleModal}\r\n                onDismiss={hideModal}\r\n                contentContainerStyle={styles.modal}\r\n              >\r\n                <Text style={styles.textModal}>Start Time</Text>\r\n                <DateTimePicker\r\n                  mode=\"time\"\r\n                  display=\"default\"\r\n                  value={startTime}\r\n                  onChange={(event, selectedDate) => {\r\n                    setChosenStartTime(selectedDate);\r\n                    setStartTimeInput(selectedDate.toLocaleTimeString());\r\n                  }}\r\n                />\r\n              </Modal>\r\n              <Modal\r\n                visible={visibleModal2}\r\n                onDismiss={hideModal2}\r\n                contentContainerStyle={styles.modal}\r\n              >\r\n                <Text style={styles.textModal}>End Time</Text>\r\n                <DateTimePicker\r\n                  mode=\"time\"\r\n                  display=\"default\"\r\n                  value={endTime}\r\n                  onChange={(event, selectedDate) => {\r\n                    setChosenEndTime(selectedDate);\r\n                    setEndTimeInput(selectedDate.toLocaleTimeString());\r\n                  }}\r\n                />\r\n              </Modal>\r\n            </Portal>\r\n          </Provider>\r\n        </>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"#e3e3e3\",\r\n  },\r\n  textModal: {\r\n    textAlign: \"center\",\r\n    fontSize: 30,\r\n  },\r\n  button: {\r\n    marginTop: 15,\r\n    backgroundColor: \"white\",\r\n    alignContent: \"center\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    width: \"95%\",\r\n  },\r\n  text: {\r\n    textAlign: \"center\",\r\n    fontSize: 30,\r\n    marginBottom: 25,\r\n  },\r\n  icon: {\r\n    textAlign: \"center\",\r\n  },\r\n  errorMessage: {\r\n    marginLeft: 12,\r\n    color: \"red\",\r\n  },\r\n  buttonEdit: {\r\n    marginTop: 10,\r\n    backgroundColor: \"#006494\",\r\n    alignContent: \"center\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n    width: \"95%\",\r\n  },\r\n  modal: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    height: \"60%\",\r\n  },\r\n  signUp: {\r\n    marginTop: 15,\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n  },\r\n  input: {\r\n    height: 40,\r\n    padding: 10,\r\n    borderRadius: 4,\r\n  },\r\n  snackbar: {\r\n    backgroundColor: \"#7d0633\",\r\n  },\r\n  snackbarText: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}